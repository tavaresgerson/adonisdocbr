# I18n

A [classe I18n](https://github.com/adonisjs/i18n/blob/develop/src/I18n/index.ts) √© respons√°vel por executar a formata√ß√£o espec√≠fica do local. Voc√™ pode obter uma inst√¢ncia desta classe usando o m√©todo `I18nManager.locale`.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

I18n.locale('en') // instanceof I18n
```

## M√©todos/Propriedades
A seguir est√° a lista de m√©todos/propriedades dispon√≠veis na classe I18n.

### `locale`
Refer√™ncia ao `locale` para o qual voc√™ criou a inst√¢ncia.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

I18n.locale('en').locale === 'en'
```

### `fallbackLocale`
Uma refer√™ncia somente leitura ao `fallbackLocale`. Tradu√ß√µes deste local ser√£o usadas quando n√£o estiverem dispon√≠veis para o local principal.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

I18n.locale('en').fallbackLocale
```

### `switchLocale`
Alterne o local em tempo de execu√ß√£o. Chamar este m√©todo atualizar√° o `locale` e o `fallbackLocale`.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

const i18n = I18n.locale('en')

// Troca para es
i18n.switchLocale('es')
```

### `validatorMessages`
Retorna um objeto com um manipulador curinga para procurar mensagens para o validador. O m√©todo aceita um prefixo de chave de onde buscar as mensagens.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

const i18n = I18n.locale('en')

I18n.validatorMessages('validator.shared')
I18n.validatorMessages('validator.contact')
I18n.validatorMessages('validator.signup')
```

### `hasMessage`
Descubra se a mensagem para uma determinada chave foi definida ou n√£o.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

const i18n = I18n.locale('en')

if (i18n.hasMessage('messages.greeting')) {
  // faz alguma coisa
}
```

### `hasFallbackMessage`
Descubra se a mensagem de fallback para uma determinada chave foi definida ou n√£o.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

const i18n = I18n.locale('en')

if (i18n.hasFallbackMessage('messages.greeting')) {
  // faz alguma coisa
}
```

### `formatMessage`
Formate uma mensagem usando o formatador configurado (padr√£o para icu). Certifique-se de ler o guia detalhado sobre [formata√ß√£o de tradu√ß√µes](../../guides/digging-deeper/i18n.md#formatting-translations).

- O primeiro argumento √© a chave da mensagem para formatar.
- O segundo argumento s√£o os dados de tempo de execu√ß√£o para passar para a mensagem.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

const i18n = I18n.locale('en')

i18n.formatMessage('messages.greeting', { name: 'Virk' })
```

### `formatRawMessage`
Formate uma mensagem a partir de uma string bruta.

- O primeiro argumento √© a mensagem bruta para formatar.
- O segundo argumento s√£o os dados de tempo de execu√ß√£o para passar para a mensagem.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

const i18n = I18n.locale('en')

i18n.formatRawMessage('Hello {name}', { name: 'Virk' })
```

### `formatNumber`
O `formatNumber` usa a classe [Intl.NumberFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat) para formatar um valor num√©rico.

- O primeiro argumento √© o valor a ser formatado. Deve ser um n√∫mero, bigint ou uma representa√ß√£o de string de um n√∫mero.

- O segundo argumento s√£o as op√ß√µes. Elas s√£o as mesmas que as op√ß√µes aceitas pela classe `Intl.NumberFormat`.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

I18n
  .locale('en')
  .formatNumber(123456.789, {
    maximumSignificantDigits: 3
  })
```

### `formatCurrency`
O m√©todo `formatCurrency` usa a classe `Intl.NumberFormat`, mas define implicitamente o `style` para moeda.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

I18n
  .locale('en')
  .formatCurrency(200, {
    currency: 'USD'
  })
```

### `formatDate`
O m√©todo `formatDate` usa a classe [Intl.DateTimeFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat) para formatar uma data.

- O primeiro argumento √© a data a ser formatada. Pode ser uma `string de data ISO`, um `timestamp`, uma inst√¢ncia da classe JavaScript `Date` ou um luxon `DateTime`.
- O segundo argumento s√£o as op√ß√µes. Elas s√£o as mesmas que as op√ß√µes aceitas pela classe `Intl.DateTimeFormat`.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

I18n
  .locale('en')
  .formatDate(new Date(), {
    dateStyle: 'long'
  })
```

### `formatTime`
O m√©todo `formatTime` usa a classe `Intl.DateTimeFormat`, mas implicitamente define o `timeStyle` como m√©dio.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

I18n
  .locale('en')
  .formatTime(new Date(), {
    timeStyle: 'long'
  })
```

### `formatRelativeTime`
O m√©todo `formatRelativeTime` usando a classe [Intl.RelativeTimeFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/RelativeTimeFormat/RelativeTimeFormat) para formatar um valor para uma string de representa√ß√£o de tempo relativo.

- O primeiro argumento √© o valor do tempo relativo. Pode ser uma `string de data ISO`, um diff num√©rico absoluto, uma inst√¢ncia da classe JavaScript `Date` ou uma inst√¢ncia de luxon `DateTime`.
- [unidades oficialmente suportadas](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/RelativeTimeFormat/format), tamb√©m suportamos uma unidade `auto` adicional.
- O terceiro argumento s√£o as op√ß√µes. Elas s√£o as mesmas que as op√ß√µes aceitas pela classe `Intl.RelativeTimeFormat`.

```ts
import { DateTime } from 'luxon'
import I18n from '@ioc:Adonis/Addons/I18n'

const luxonDate = DateTime.local().plus({ hours: 2 })
I18n
  .locale('en')
  .formatRelativeTime(luxonDate, 'hours')
```

Encontraremos a melhor unidade ao usar a unidade de formata√ß√£o definida como `auto`. Por exemplo:

```ts
const luxonDate = DateTime.local().plus({ hours: 2 })
I18n
  .locale('en')
  .formatRelativeTime(luxonDate, 'auto')

// In 2 hours üëà
```

```ts
const luxonDate = DateTime.local().plus({ hours: 200 })
I18n
  .locale('en')
  .formatRelativeTime(luxonDate, 'auto')

// In 8 days üëà
```

### `formatPlural`
O m√©todo `formatPlural` usa [Intl.PluralRules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/PluralRules/PluralRules) e retorna uma categoria plural para um valor num√©rico fornecido.

- O primeiro argumento √© o valor. Deve ser um n√∫mero ou uma representa√ß√£o de string de um n√∫mero.
- O segundo argumento s√£o as op√ß√µes. Elas s√£o as mesmas que as op√ß√µes aceitas pela classe `Intl.PluralRules`.

```ts
import I18n from '@ioc:Adonis/Addons/I18n'

I18n.locale('en').formatPlural(0)
// other

I18n.locale('en').formatPlural(1)
// one

I18n.locale('en').formatPlural(2)
// other
```
