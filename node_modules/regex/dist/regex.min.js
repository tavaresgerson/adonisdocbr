var Regex=(()=>{var Z=Object.defineProperty;var _e=Object.getOwnPropertyDescriptor;var be=Object.getOwnPropertyNames;var Te=Object.prototype.hasOwnProperty;var Ue=(e,t)=>{for(var n in t)Z(e,n,{get:t[n],enumerable:!0})},xe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of be(t))!Te.call(e,s)&&s!==n&&Z(e,s,{get:()=>t[s],enumerable:!(r=_e(t,s))||r.enumerable});return e};var Re=e=>xe(Z({},"__esModule",{value:!0}),e);var Je={};Ue(Je,{pattern:()=>H,regex:()=>We,rewrite:()=>Ke});var g=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function C(e,t,n,r){let s=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),a=[!1],i=0,o="";for(let u of e.matchAll(s)){let{0:c,groups:{$skip:p}}=u;if(!p&&(!r||r===g.DEFAULT==!i)){n instanceof Function?o+=n(u,{context:i?g.CHAR_CLASS:g.DEFAULT,negated:a[a.length-1]}):o+=n;continue}c[0]==="["?(i++,a.push(c[1]==="^")):c==="]"&&i&&(i--,a.pop()),o+=c}return o}function P(e,t,n,r){C(e,t,n,r)}function V(e,t,n=0,r){if(!new RegExp(t,"su").test(e))return null;let s=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");s.lastIndex=n;let a=0,i;for(;i=s.exec(e);){let{0:o,groups:{$skip:u}}=i;if(!u&&(!r||r===g.DEFAULT==!a))return i;o==="["?a++:o==="]"&&a&&a--,s.lastIndex==i.index&&s.lastIndex++}return null}function j(e,t,n){return!!V(e,t,0,n)}function J(e,t){let n=/\\?./gsu;n.lastIndex=t;let r=e.length,s=0,a=1,i;for(;i=n.exec(e);){let[o]=i;if(o==="[")s++;else if(s)o==="]"&&s--;else if(o==="(")a++;else if(o===")"&&(a--,!a)){r=i.index;break}}return e.slice(t,r)}var I="$E$",Q=class e extends RegExp{_captureMap;constructor(t,n,r){if(t instanceof RegExp&&r)throw new Error("Cannot provide options when copying regexp");let s;r?.useEmulationGroups&&({expression:t,captureMap:s}=Fe(t)),super(t,n),s?this._captureMap=s:t instanceof e&&(this._captureMap=t._captureMap)}exec(t){let n=RegExp.prototype.exec.call(this,t);if(!n||!this._captureMap)return n;let r=[...n];n.length=1;let s;this.hasIndices&&(s=[...n.indices],n.indices.length=1);for(let a=1;a<r.length;a++)this._captureMap[a]&&(n.push(r[a]),this.hasIndices&&n.indices.push(s[a]));return n}};function Fe(e){let t=I.replace(/\$/g,"\\$"),n=[!0];return e=C(e,String.raw`\((?:(?!\?)|\?<(?![=!])[^>]+>)(?<mark>${t})?`,({0:r,groups:{mark:s}})=>s?(n.push(!1),r.slice(0,-I.length)):(n.push(!0),r),g.DEFAULT),{captureMap:n,expression:e}}var b=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function T(e,t,n,r){return e.slice(0,t)+r+e.slice(t+n.length)}var oe=new RegExp(String.raw`(?<noncapturingStart>${b})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function ae(e,t){if(!/\(\?>/.test(e))return e;let n="(?>",r=`(?:(?=(${t?.useEmulationGroups?I:""}`,s=[0],a=0,i=0,o=NaN,u;do{u=!1;let c=0,p=0,E=!1,l;for(oe.lastIndex=Number.isNaN(o)?0:o+r.length;l=oe.exec(e);){let{0:d,index:A,groups:{capturingStart:h,noncapturingStart:S}}=l;if(d==="[")c++;else if(c)d==="]"&&c--;else if(d===n&&!E)o=A,E=!0;else if(E&&S)p++;else if(h)E?p++:(a++,s.push(a+i));else if(d===")"&&E){if(!p){i++,e=`${e.slice(0,o)}${r}${e.slice(o+n.length,A)}))<$$${i+a}>)${e.slice(A+1)}`,u=!0;break}p--}}}while(u);return e=C(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:c,groups:{backrefNum:p,wrappedBackrefNum:E}})=>{if(p){let l=+p;if(l>s.length-1)throw new Error(`Backref "${c}" greater than number of captures`);return`\\${s[l]}`}return`\\${E}`},g.DEFAULT),e}var ie=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,X=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${ie})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function ue(e){if(!new RegExp(`${ie}\\+`).test(e))return e;let t=[],n=null,r=null,s="",a=0,i;for(X.lastIndex=0;i=X.exec(e);){let{0:o,index:u,groups:{qBase:c,qMod:p,invalidQ:E}}=i;if(o==="[")a||(r=u),a++;else if(o==="]")a?a--:r=null;else if(!a)if(p==="+"&&s&&!s.startsWith("(")){if(E)throw new Error(`Invalid quantifier "${o}"`);let l=-1;if(/^\{\d+\}$/.test(c))e=T(e,u+c.length,p,"");else{if(s===")"||s==="]"){let d=s===")"?n:r;if(d===null)throw new Error(`Invalid unmatched "${s}"`);e=`${e.slice(0,d)}(?>${e.slice(d,u)}${c})${e.slice(u+o.length)}`}else e=`${e.slice(0,u-s.length)}(?>${s}${c})${e.slice(u+o.length)}`;l+=4}X.lastIndex+=l}else o[0]==="("?t.push(u):o===")"&&(n=t.length?t.pop():null);s=o}return e}var L=class{#e;constructor(t){this.#e=t}toString(){return String(this.#e)}};function H(e,...t){if(Array.isArray(e?.raw))return new L(e.raw.flatMap((n,r)=>r<e.raw.length-1?[n,t[r]]:n).join(""));if(!t.length)return new L(e===void 0?"":e);throw new Error(`Unexpected arguments: ${JSON.stringify([e,...t])}`)}var f={DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS",ENCLOSED_P:"ENCLOSED_P",ENCLOSED_U:"ENCLOSED_U",GROUP_NAME:"GROUP_NAME",INTERVAL_QUANTIFIER:"INTERVAL_QUANTIFIER",INVALID_INCOMPLETE_TOKEN:"INVALID_INCOMPLETE_TOKEN"},m={DEFAULT:"DEFAULT",ENCLOSED_P:"ENCLOSED_P",ENCLOSED_Q:"ENCLOSED_Q",ENCLOSED_U:"ENCLOSED_U",INVALID_INCOMPLETE_TOKEN:"INVALID_INCOMPLETE_TOKEN",RANGE:"RANGE"},q=new Set([f.ENCLOSED_P,f.ENCLOSED_U]),k=new Set([m.ENCLOSED_P,m.ENCLOSED_Q,m.ENCLOSED_U]),G=(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),fe=(()=>{try{new RegExp("","v")}catch{return!1}return!0})(),U="&!#$%*+,.:;<=>?@^`~",B=String.raw`\(\?<(?![=!])(?<captureName>[^>]+)>`,W=String.raw`\((?!\?)(?!(?<=\(\?\()DEFINE\))|${B}`;function pe(e,t){return C(e,String.raw`\\(?<num>[1-9]\d*)`,({groups:{num:n}})=>`\\${+n+t}`,g.DEFAULT)}var Oe=["Basic_Emoji","Emoji_Keycap_Sequence","RGI_Emoji_Modifier_Sequence","RGI_Emoji_Flag_Sequence","RGI_Emoji_Tag_Sequence","RGI_Emoji_ZWJ_Sequence","RGI_Emoji"].join("|"),Pe=new RegExp(String.raw`
\\(?: c[A-Za-z]
  | p\{(?<pStrProp>${Oe})\}
  | [pP]\{[^\}]+\}
  | (?<qStrProp>q)
  | u(?:[A-Fa-f\d]{4}|\{[A-Fa-f\d]+\})
  | x[A-Fa-f\d]{2}
  | .
)
| --
| &&
| .
`.replace(/\s+/g,""),"gsu");function Y(e){let t=!1,n;for(let{0:r,groups:s}of e.matchAll(Pe)){if(s.pStrProp||s.qStrProp||r==="["&&t)return!0;if(["-","--","&&"].includes(r))t=!1;else if(r!=="["&&r!=="]"){if(t||n==="]")return!0;t=!0}n=r}return!1}function x(e){let t=0;return P(e,W,()=>t++,g.DEFAULT),t}function ee(e,t){return t===g.CHAR_CLASS?e.replace(new RegExp(String.raw`[()\[\]{}|\\/\-${U}]`,"g"),"\\$&"):e.replace(/[()\[\]{}|\\^$*+?.]/g,"\\$&")}function ge(e,t,n){let r=e.replace(/\\./gsu,"");if(r.endsWith("\\"))return"\\";if(t===f.DEFAULT)return ce(r,"(",")");if(t===f.CHAR_CLASS&&!k.has(n))return ce(r,"[","]");if(t===f.INTERVAL_QUANTIFIER||q.has(t)||k.has(n)){if(r.includes("}"))return"}"}else if(t===f.GROUP_NAME&&r.includes(">"))return">";return""}var le=new RegExp(String.raw`
(?<groupN>\(\?<(?![=!])|\\[gk]<)
| (?<enclosedPU>\\[pPu]\{)
| (?<enclosedQ>\\q\{)
| (?<intervalQ>\{)
| (?<incompleteT>\\(?: $
  | c(?![A-Za-z])
  | u(?![A-Fa-f\d]{4})[A-Fa-f\d]{0,3}
  | x(?![A-Fa-f\d]{2})[A-Fa-f\d]?
  )
)
| --
| \\?.
`.replace(/\s+/g,""),"gsu");function R(e,t){let{regexContext:n,charClassContext:r,charClassDepth:s,lastPos:a}={regexContext:f.DEFAULT,charClassContext:m.DEFAULT,charClassDepth:0,lastPos:0,...t};le.lastIndex=a;let i;for(;i=le.exec(e);){let{0:o,groups:{groupN:u,enclosedPU:c,enclosedQ:p,intervalQ:E,incompleteT:l}}=i;o==="["?(s++,n=f.CHAR_CLASS,r=m.DEFAULT):o==="]"&&n===f.CHAR_CLASS?(s&&s--,s||(n=f.DEFAULT),r=m.DEFAULT):n===f.CHAR_CLASS?l?r=m.INVALID_INCOMPLETE_TOKEN:o==="-"?r=m.RANGE:c?r=o[1]==="u"?m.ENCLOSED_U:m.ENCLOSED_P:p?r=m.ENCLOSED_Q:(o==="}"&&k.has(r)||r===m.INVALID_INCOMPLETE_TOKEN||r===m.RANGE)&&(r=m.DEFAULT):l?n=f.INVALID_INCOMPLETE_TOKEN:u?n=f.GROUP_NAME:c?n=o[1]==="u"?f.ENCLOSED_U:f.ENCLOSED_P:E?n=f.INTERVAL_QUANTIFIER:(o===">"&&n===f.GROUP_NAME||o==="}"&&(n===f.INTERVAL_QUANTIFIER||q.has(n))||n===f.INVALID_INCOMPLETE_TOKEN)&&(n=f.DEFAULT)}return{regexContext:n,charClassContext:r,charClassDepth:s,lastPos:e.length}}function ce(e,t,n){let r=0;for(let[s]of e.matchAll(new RegExp(`[${ee(t+n,g.CHAR_CLASS)}]`,"g")))if(r+=s===t?1:-1,r<0)return n;return r>0?t:""}function de(e,t,n,r){let s={raw:[]},a=[],i;return e.raw.forEach((o,u)=>{let c=n(o,{...i,lastPos:0},r);if(s.raw.push(c.transformed),i=c.runningContext,u<e.raw.length-1){let p=t[u];if(p instanceof L){let E=n(p,{...i,lastPos:0},r);a.push(H(E.transformed)),i=E.runningContext}else a.push(p)}}),{template:s,substitutions:a}}function Ee(e){return e.replace(/^\^/,"\\^^")}function K(e){return e.replace(new RegExp(`^([${U}])(?!\\1)`),(t,n,r)=>`\\${t}${r+1===e.length?"":t}`)}function M(e,t){return C(e,String.raw`\\0(?!\d)`,"\\x00",t)}var ke="&!#%,:;<=>@`~",Ge=new RegExp(String.raw`
\[\^?-?
| --?\]
| (?<dp>[${U}])\k<dp>
| --
| \\(?<vOnlyEscape>[${ke}])
| \\[pPu]\{[^}]+\}
| \\?.
`.replace(/\s+/g,""),"gsu");function me(e){let t='Invalid unescaped "-" in character class',n=!1,r="";for(let{0:s,groups:{dp:a,vOnlyEscape:i}}of e.matchAll(Ge)){if(s[0]==="["){if(n)throw new Error("Invalid nested character class when flag v not supported; possibly from interpolation");if(s.endsWith("-"))throw new Error(t);n=!0}else if(s.endsWith("]")){if(s[0]==="-")throw new Error(t);n=!1}else if(n){if(s==="&&"||s==="--")throw new Error(`Invalid set operator "${s}" when flag v not supported`);if(a)throw new Error(`Invalid double punctuator "${s}", reserved by flag v`);if("(){}/|".includes(s))throw new Error(`Invalid unescaped "${s}" in character class`);if(i){r+=i;continue}}r+=s}return r}var Me=new RegExp(String.raw`
${b}
| \(\?<
| (?<backrefNum>\\[1-9]\d*)
| \\?.
`.replace(/\s+/g,""),"gsu");function he(e,t){e=String(e);let n="",r="";for(let{0:s,groups:{backrefNum:a}}of e.matchAll(Me)){n+=s,t=R(n,t);let{regexContext:i}=t;if(i===f.DEFAULT)if(s==="(")r+="(?:";else{if(a)throw new Error(`Invalid decimal escape "${s}" with implicit flag n; replace with named backreference`);r+=s}else r+=s}return{transformed:r,runningContext:t}}var Ce=/^\s$/,ye=/^\\[\s#]$/,te=/^[ \t]$/,ve=/^\\[ \t]$/,Ve=new RegExp(String.raw`
\\(?: [gk]<
  | [pPu]\{
  | c[A-Za-z]
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  | 0\d+
)
| \[\^
| ${b}
| \(\?<
| (?<dp>[${U}])\k<dp>
| --
| \\?.
`.replace(/\s+/g,""),"gsu");function Ae(e,t,n){e=String(e);let r=!1,s=!1,a=!1,i="",o="",u="",c="",p=!1,E=(l,d)=>{let A={prefix:!0,postfix:!1,...d};return l=(p&&A.prefix?"(?:)":"")+l+(A.postfix?"(?:)":""),p=!1,l};for(let{0:l,index:d}of e.matchAll(Ve)){if(a){l===`
`&&(a=!1,p=!0);continue}if(r){if(Ce.test(l))continue;r=!1,p=!0}else if(s){if(te.test(l))continue;s=!1}i+=l,t=R(i,t);let{regexContext:A,charClassContext:h}=t;if(l==="-"&&A===f.CHAR_CLASS&&c===m.RANGE&&(n.flags.includes("v")||n.unicodeSetsPlugin))throw new Error("Invalid unescaped hyphen as the end value for a range");if(A===f.DEFAULT&&/^(?:[?*+]|\?\?)$/.test(l)||A===f.INTERVAL_QUANTIFIER&&l==="{")o+=E(l,{prefix:!1,postfix:u==="("&&l==="?"});else if(A===f.DEFAULT)Ce.test(l)?r=!0:l.startsWith("#")?a=!0:ye.test(l)?o+=E(l[1],{prefix:!1}):o+=E(l);else if(A===f.CHAR_CLASS&&l!=="["&&l!=="[^")if(te.test(l)&&(h===m.DEFAULT||h===m.ENCLOSED_Q||h===m.RANGE))s=!0;else{if(h===m.INVALID_INCOMPLETE_TOKEN)throw new Error(`Invalid incomplete token in character class: "${l}"`);if(ve.test(l)&&(h===m.DEFAULT||h===m.ENCLOSED_Q))o+=E(l[1],{prefix:!1});else if(h===m.DEFAULT){let S=e[d+1]??"",N=M(l);(te.test(S)||l==="^")&&(N=K(N)),o+=E(N)}else o+=E(l)}else o+=E(l);r||s||a||(u=l,c=h)}return{transformed:o,runningContext:t}}function we(e){let t=String.raw`\(\?:\)`;e=C(e,`(?:${t}){2,}`,"(?:)",g.DEFAULT);let n=I.replace(/\$/g,"\\$");return e=C(e,String.raw`(?:${t}(?=[)|.[$\\]|\((?!DEFINE)|$)|(?<=[()|.\]^>]|\\[bBdDfnrsStvwW]|\(\?(?:[:=!]|<[=!])|^)${t}(?![?*+{]))(?!${n})`,"",g.DEFAULT),e}function Se(e,t){let n=Le(e,{includeContents:!0}),r=Qe(e,n,!!t?.useEmulationGroups);return He(r,n)}var je=String.raw`\\g<(?<subroutineName>[^>&]+)>`,y=new RegExp(String.raw`
${je}
| (?<capturingStart>${W})
| \\(?<backrefNum>[1-9]\d*)
| \\k<(?<backrefName>[^>]+)>
| \\?.
`.replace(/\s+/g,""),"gsu");function Qe(e,t,n){if(!/\\g</.test(e))return e;let r=j(e,"\\\\(?:[1-9]|k<[^>]+>)",g.DEFAULT),s=r?`(${n?I:""}`:"(?:",a=new Map,i=[],o=[0],u=0,c=0,p=0,E=0,l=0,d=e,A;for(y.lastIndex=0;A=y.exec(d);){let{0:h,index:S,groups:{subroutineName:N,capturingStart:z,backrefNum:F,backrefName:v}}=A;if(h==="[")l++;else if(l)h==="]"&&l--;else if(N){if(!t.has(N))throw new Error(`Invalid named capture referenced by subroutine ${h}`);if(a.has(N))throw new Error(`Subroutine ${h} followed a recursive reference`);let w=t.get(N).contents,D=`${s}${w})`;r&&(p=0,c++),a.set(N,{unclosedGroupCount:qe(D)}),i.push(N),d=T(d,S,h,D),y.lastIndex-=h.length-s.length}else if(z)a.size?(r&&(p++,c++),h!=="("&&(d=T(d,S,h,s),y.lastIndex-=h.length-s.length)):r&&(o.push(re(o)+1+c-E),E=c,u++);else if((F||v)&&a.size){let w=F?+F:t.get(v)?.groupNum,D=!1;for(let $ of i){let _=t.get($);if(w>=_.groupNum&&w<=_.groupNum+_.numCaptures){D=!0;break}}if(D){let $=t.get(re(i)),_=u+c-p,O=`\\k<$$b${w}s${_}r${$.groupNum}c${$.numCaptures}>`;d=T(d,S,h,O),y.lastIndex+=O.length-h.length}}else if(h===")"&&a.size){let w=a.get(re(i));w.unclosedGroupCount--,w.unclosedGroupCount||a.delete(i.pop())}}return r&&(d=C(d,String.raw`\\(?:(?<bNum>[1-9]\d*)|k<\$\$b(?<bNumSub>\d+)s(?<subNum>\d+)r(?<refNum>\d+)c(?<refCaps>\d+)>)`,({0:h,groups:{bNum:S,bNumSub:N,subNum:z,refNum:F,refCaps:v}})=>{if(S){let O=+S;if(O>o.length-1)throw new Error(`Backref "${h}" greater than number of captures`);return`\\${o[O]}`}let w=+N,D=+z,$=+F,_=+v;return w<$||w>$+_?`\\${o[w]}`:`\\${D-$+w}`},g.DEFAULT)),d}var ne=new RegExp(String.raw`${B}|\(\?:\)|(?<invalid>\\?.)`,"gsu");function He(e,t){let n=V(e,String.raw`\(\?\(DEFINE\)`,0,g.DEFAULT);if(!n)return e;let r=Ne(e,n);if(r.afterPos<e.length)throw new Error("DEFINE group allowed only at the end of a regex");if(r.afterPos>e.length)throw new Error("DEFINE group is unclosed");let s;for(ne.lastIndex=0;s=ne.exec(r.contents);){let{captureName:a,invalid:i}=s.groups;if(a){let o=Ne(r.contents,s),u;if(!t.get(a).isUnique)u=a;else{let c=Le(o.contents,{includeContents:!1});for(let p of c.keys())if(!t.get(p).isUnique){u=p;break}}if(u)throw new Error(`Duplicate group name "${u}" within DEFINE`);ne.lastIndex=o.afterPos}else if(i)throw new Error("DEFINE group includes unsupported syntax at top level")}return e.slice(0,n.index)}function qe(e){let t=0;return P(e,"\\(",()=>t++,g.DEFAULT),t}function Be(e,t){let n=0,r=0,s;for(;s=V(e,W,r,g.DEFAULT);){let{0:a,index:i,groups:{captureName:o}}=s;if(n++,o===t)break;r=i+a.length}return n}function Ne(e,t){let n=t.index+t[0].length,r=J(e,n),s=n+r.length+1;return{contents:r,afterPos:s}}function Le(e,{includeContents:t}){let n=new Map;return P(e,B,({0:r,index:s,groups:{captureName:a}})=>{if(n.has(a))n.get(a).isUnique=!1;else{let i={isUnique:!0};if(t){let o=J(e,s+r.length);Object.assign(i,{contents:o,groupNum:Be(e,a),numCaptures:x(o)})}n.set(a,i)}},g.DEFAULT),n}function re(e){return e[e.length-1]}var We=(e,...t)=>{if(Array.isArray(e?.raw))return se({},e,...t);if((typeof e=="string"||e===void 0)&&!t.length)return se.bind(null,{flags:e??""});if({}.toString.call(e)==="[object Object]"&&!t.length)return se.bind(null,e);throw new Error(`Unexpected arguments: ${JSON.stringify([e,...t])}`)},se=(e,t,...n)=>{let r=$e(e),s=Ie(t,n,r),a=0,i="",o;s.template.raw.forEach((u,c)=>{let p=!!(s.template.raw[c]||s.template.raw[c+1]);a+=x(u),i+=M(u,g.CHAR_CLASS),o=R(i,o);let{regexContext:E,charClassContext:l}=o;if(c<s.template.raw.length-1){let d=s.substitutions[c];i+=ze(d,r.flags,E,l,p,a),d instanceof RegExp?a+=x(d.source):d instanceof L&&(a+=x(String(d)))}}),i=De(i,r);try{return r.subclass?new Q(i,r.flags,{useEmulationGroups:!0}):new RegExp(i,r.flags)}catch(u){let c=u.message.replace(/ \/.+\/[a-z]*:/,"");throw u.message=`${c}: /${i}/${r.flags}`,u}};function Ke(e="",t){let n=$e(t);if(n.subclass)throw new Error("Cannot use option subclass");return{expression:De(Ie({raw:[e]},[],n).template.raw[0],n),flags:n.flags}}function $e(e){let t={flags:"",subclass:!1,plugins:[],unicodeSetsPlugin:me,disable:{},force:{},...e};if(/[nuvx]/.test(t.flags))throw new Error("Implicit flags v/u/x/n cannot be explicitly added");let n=t.force.v||(t.disable.v?!1:fe);return t.flags+=n?"v":"u",n&&(t.unicodeSetsPlugin=null),t}function Ie(e,t,n){let r=[];n.disable.x||r.push(Ae),n.disable.n||r.push(he);for(let s of r)({template:e,substitutions:t}=de(e,t,s,n));return{template:e,substitutions:t}}function De(e,t){let{flags:n,plugins:r,unicodeSetsPlugin:s,disable:a,subclass:i}=t;return[...r,...a.subroutines?[]:[Se],...a.atomic?[]:[ue,ae],...a.x?[]:[we],...s?[s]:[]].forEach(o=>e=o(e,{flags:n,useEmulationGroups:i})),e}function ze(e,t,n,r,s,a){if(e instanceof RegExp&&n!==f.DEFAULT)throw new Error("Cannot interpolate a RegExp at this position because the syntax context does not match");if(n===f.INVALID_INCOMPLETE_TOKEN||r===m.INVALID_INCOMPLETE_TOKEN)throw new Error("Interpolation preceded by invalid incomplete token");if(typeof e=="number"&&(n===f.ENCLOSED_U||r===m.ENCLOSED_U))return e.toString(16);let i=e instanceof L,o="";if(!(e instanceof RegExp)){e=String(e),i||(o=ee(e,n===f.CHAR_CLASS?g.CHAR_CLASS:g.DEFAULT));let u=ge(o||e,n,r);if(u)throw new Error(`Unescaped stray "${u}" in the interpolated value would have side effects outside it`)}if(n===f.INTERVAL_QUANTIFIER||n===f.GROUP_NAME||q.has(n)||k.has(r))return i?String(e):o;if(n===f.CHAR_CLASS){if(i){if(j(String(e),"^-|^&&|-$|&&$"))throw new Error("Cannot use range or set operator at boundary of interpolated pattern; move the operation into the pattern or the operator outside of it");let u=Ee(K(e));return Y(e)?`[${u}]`:M(u)}return Y(o)?`[${o}]`:o}if(e instanceof RegExp){let u=Ze(e,t),c=pe(u.value,a);return u.usedModifier?c:`(?:${c})`}return i?`(?:${e})`:s?`(?:${o})`:o}function Ze(e,t){let n={i:null,m:null,s:null},r="\\n\\r\\u2028\\u2029",s=e.source;if(e.ignoreCase!==t.includes("i"))if(G)n.i=e.ignoreCase;else throw new Error("Pattern modifiers not supported, so flag i on the outer and interpolated regex must match");if(e.dotAll!==t.includes("s")&&(G?n.s=e.dotAll:s=C(s,"\\.",e.dotAll?"[^]":`[^${r}]`,g.DEFAULT)),e.multiline!==t.includes("m")&&(G?n.m=e.multiline:(s=C(s,"\\^",e.multiline?`(?<=^|[${r}])`:"(?<![^])",g.DEFAULT),s=C(s,"\\$",e.multiline?`(?=$|[${r}])`:"(?![^])",g.DEFAULT))),G){let a=Object.keys(n),i=a.filter(u=>n[u]===!0).join(""),o=a.filter(u=>n[u]===!1).join("");if(o&&(i+=`-${o}`),i)return{value:`(?${i}:${s})`,usedModifier:!0}}return{value:s}}return Re(Je);})();
//# sourceMappingURL=regex.min.js.map
